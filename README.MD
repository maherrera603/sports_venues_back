# ğŸŸï¸ Backend â€“ Sistema de Reservas de Canchas Comunitarias

## ğŸ“˜ DescripciÃ³n del Proyecto
Este backend forma parte del proyecto acadÃ©mico "Sistema de reservas para canchas sintÃ©ticas en comunidades urbanas", cuyo objetivo es ofrecer una herramienta tecnolÃ³gica que permita gestionar de forma justa, transparente y accesible el uso de espacios deportivos comunitarios.

El proyecto busca resolver problemÃ¡ticas como:
- Falta de organizaciÃ³n en las reservas  
- Conflictos y favoritismos  
- Doble asignaciÃ³n de horarios  
- ExclusiÃ³n de ciertos grupos  
- Falta de transparencia  

Este backend implementa la lÃ³gica necesaria para:
- GestiÃ³n de usuarios (registro, login, actualizaciÃ³n)  
- AdministraciÃ³n de espacios deportivos  
- CreaciÃ³n y control de reservas  
- ValidaciÃ³n para evitar dobles reservas  
- Manejo de roles (usuario y administrador)  

Desarrollado bajo los principios de **Clean Architecture**, lo que permite mayor escalabilidad y mantenibilidad del proyecto.

---

## ğŸš€ TecnologÃ­as Utilizadas
- Node.js  
- Express  
- TypeScript  
- MongoDB  
- Mongoose  
- JWT  
- bcrypt  
- Clean Architecture  

---

## ğŸ›¢ï¸ Base de Datos
El backend utiliza **MongoDB** como motor principal y **Mongoose** como ODM.

Colecciones principales:
- `users` â€” informaciÃ³n y credenciales  
- `sportsvenues` â€” espacios deportivos administrados  
- `reservations` â€” reservas creadas por los usuarios  

---

## ğŸ” AutenticaciÃ³n y AutorizaciÃ³n
- AutenticaciÃ³n mediante **JWT**  
- ContraseÃ±as cifradas con **bcrypt**  
- Middleware de autenticaciÃ³n para validar tokens  
- Middleware de autorizaciÃ³n para restringir acciones administrativas  

Flujo general:
1. El usuario se registra.  
2. Inicia sesiÃ³n y obtiene su token.  
3. Accede a rutas protegidas utilizando `Authorization: Bearer <token>`.  

---

## ğŸ“Œ Funcionalidades Principales

### Usuarios
- Registro de nuevos usuarios  
- Inicio de sesiÃ³n  
- Consulta de perfil  
- ActualizaciÃ³n de datos personales  

### Espacios Deportivos
- CreaciÃ³n de espacios (solo administrador)  
- ActualizaciÃ³n de espacios  (solo administrador)  
- EliminaciÃ³n o deshabilitaciÃ³n  (solo administrador)  
- Consulta y listado de espacios  

### Reservas
- Crear reservas  (solo usuario)  
- Modificar reservas  (solo usuario)
- Cancelar reservas  (solo administrador)
- Validaciones para evitar solapamientos de horarios  (solo administrador)


## âš™ï¸ InstalaciÃ³n y EjecuciÃ³n

### 1. Clonar el repositorio
```bash
git clone https://github.com/maherrera603/sports_venues_back.git
```
---
### 2. navegar al proyecto
```bash
cd sports_venues_back
```
---
### 3. instalacion de dependencias
```bash
npm install
```
---
### 4. variables de entorno
```bash
copiar y pegar el archivo .env.template y renombralo a .env 
```

---
### 5. configuracion de variables de entorno
```bash
editar el archivo .env y configurar las variables de entorno
```


### 6. creacion de usuario administrador
```bash
npm run create:admin -- -e "email del administrador" -p "contraseÃ±a"
```

### 7. iniciar proyecto
```bash
npm run dev
```


